<%- include("partials/header.ejs") %>

<h1>Edit Posts</h1>

<main class="container">
  
    <div class="row g-5 mt-5">

      <div class="col-md-12">
        <div>
            <h4 class="fst-italic">Your posts</h4>
            <ul class="list-unstyled">
              <li>
                <% if (locals.posts) { %>
                    <% posts.forEach((post, index) => { %>
                        <div class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top">
                        <img class="bd-placeholder-img post-placehodler" src="/assets/top-flower.png" aria-hidden="true" preserveAspectRatio="xMidYMid slice"><rect width="100%" height="100%" fill="#777"></rect></img>
                        <div class="col-lg-6">
                          <h6 class="mb-0"><%= post.title %></h6>
                          <small class="text-body-secondary"><%= post.date %></small>
                        </div>
                        <div class="flex-grow-1">
                          <form action="/action/<%= index %>" method="post" class="d-flex justify-content-center align-items-center mx-5">
                            <button type="submit" name="action" value="edit" class="btn btn-primary">EDIT</button>
                            <p>&nbsp;&nbsp;&nbsp;</p>
                            <button type="submit" name="action" value="delete" class="btn btn-danger">DELETE</button>
                          </form>
                        </div>
                      </div>
                    <%  }); %>                     
                <% } else { %>
                    <p>No post</p>
                <% } %>
              </li>
            </ul>
          </div>
        
      </div>
      
    </div>
  
</main>

<%- include("partials/footer.ejs") %>